import{a as e,o as a,c as t,r as s,d as n,p as o,b as r,w as i,e as l,f as c,t as d,F as u,g as v,h as p,i as m,j as h,k as g,l as f,m as C,n as y}from"./vendor.0a2a6f80.js";!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(t){const s=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((t,o)=>{const r=new URL(e,s);if(self[a].moduleMap[r])return t(self[a].moduleMap[r]);const i=new Blob([`import * as m from '${r}';`,`${a}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){o(new Error(`Failed to import: ${e}`)),n(l)},onload(){t(self[a].moduleMap[r]),n(l)}});document.head.appendChild(l)})),self[a].moduleMap={}}}("/assets/");let B;const M={},_={navigationType:"hash",useSampleData:!0,api:{useMocks:!0,url:"/api"}},b=e.create({baseURL:_.api.url}),P={getOne:e=>b.get(`/movies/${e}`).then((e=>e.data)),getList:e=>b.get("/movies",{params:e}).then((e=>e.data))};var k={instance:b,movies:P,init:async()=>{{const e=await function(e,a){if(!a)return e();if(void 0===B){const e=document.createElement("link").relList;B=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(a.map((e=>{if(e in M)return;M[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const s=document.createElement("link");return s.rel=a?"stylesheet":B,a||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),a?new Promise(((e,a)=>{s.addEventListener("load",e),s.addEventListener("error",a)})):void 0}))).then((()=>e()))}((()=>__import__("./mocks.9028bb09.js")),["/assets/mocks.9028bb09.js","/assets/vendor.0a2a6f80.js"]),a=await caches.keys();await Promise.all(a.map((e=>caches.delete(e)))),await e.default.init()}}};const L={},I={class:"BaseCard"};L.render=function(e,n){return a(),t("div",I,[s(e.$slots,"default")])};const S={},w={class:"BaseCardHeader"};S.render=function(e,n){return a(),t("header",w,[s(e.$slots,"default")])};const D={},$={class:"BaseCardBody"};D.render=function(e,n){return a(),t("div",$,[s(e.$slots,"default")])};var H=n({components:{BaseCard:L,BaseCardHeader:S,BaseCardBody:D},props:{movie:{type:Object,required:!0},highlight:{type:String,default:()=>{}}},setup:e=>({})});const U=i();o("data-v-05952a78");const j={class:"MovieDetails"},E={class:"MovieDetailSection"},R=l("label",{class:"MovieDetailLabel"}," Genres: ",-1),T={class:"MovieDetailContent"},O={class:"MovieDetailSection"},q=l("label",{class:"MovieDetailLabel"}," Actors: ",-1),x={class:"MovieDetailContent"};r();const A=U(((e,s,n,o,r,i)=>{const m=p("BaseCardHeader"),h=p("BaseCardBody"),g=p("BaseCard");return a(),t(g,{class:"BaseCardMovie"},{default:U((()=>[l(m,{class:"MovieHeader"},{default:U((()=>[c(d(e.movie.title),1)])),_:1}),l(h,{class:"MovieBody"},{default:U((()=>[l("div",{class:"MovieThumbnail",style:{backgroundImage:`url(${e.movie.img})`}},null,4),l("div",j,[l("div",E,[R,l("div",T,[(a(!0),t(u,null,v(e.movie.genres,(e=>(a(),t("div",{key:e,class:"MovieDetail"},d(e),1)))),128))])]),l("div",O,[q,l("div",x,[(a(!0),t(u,null,v(e.movie.actors,(e=>(a(),t("div",{key:e,class:"MovieDetail"},d(e),1)))),128))])])])])),_:1})])),_:1})}));H.render=A,H.__scopeId="data-v-05952a78";const F={},N=i();o("data-v-706ed41b");const G={class:"BaseContainer"};r();const V=N(((e,n)=>(a(),t("div",G,[s(e.$slots,"default",{},void 0,!0)]))));F.render=V,F.__scopeId="data-v-706ed41b";var W=n({props:{value:{type:Number,required:!0},total:{type:Number,required:!0},perPage:{type:Number,required:!0}},emits:{input:e=>!0},setup(e,{emit:a}){const{value:t,total:s,perPage:n}=m(e),o=h((()=>Math.ceil(s.value/n.value)));return{pages:h((()=>{const e=[],a=o.value;for(let s=1;s<=a;s++)(1===s||s===a||Math.abs(t.value-s)<5)&&e.push(s);return e})),numPages:o,handlePageClick:(e,t)=>{e.preventDefault(),a("input",t)}}}});const z=i();o("data-v-2674cd1e");const J={class:"BasePagination"};r();const K=z(((e,s,n,o,r,i)=>(a(),t("nav",J,[(a(!0),t(u,null,v(e.pages,(s=>(a(),t("a",{key:s,class:["PaginationItem",e.value===s&&"is-active"],href:"#",onClick:a=>e.handlePageClick(a,s)},d(s),11,["onClick"])))),128))]))));W.render=K,W.__scopeId="data-v-2674cd1e";const Q={},X=i();o("data-v-2a6dfede");const Y={class:"BaseLogo"};r();const Z=X(((e,s)=>(a(),t("div",Y,"MoviesApp"))));Q.render=Z,Q.__scopeId="data-v-2a6dfede";const ee={},ae=i();o("data-v-f7a3c7ea");const te={type:"text",class:"BaseInput"};r();const se=ae(((e,s)=>(a(),t("input",te))));ee.render=se,ee.__scopeId="data-v-f7a3c7ea";var ne=n({components:{BaseLogo:Q,BaseContainer:F,BaseInput:ee},props:{},emits:["inputSearch"],setup(e,{emit:a}){let t;return{handleSearchUpdate:e=>{t&&clearTimeout(t),t=setTimeout((()=>{a("inputSearch",e.target.value)}),500)}}}});const oe=i();o("data-v-4805b28e");const re={class:"TheHeader"};r();const ie=oe(((e,s,n,o,r,i)=>{const c=p("BaseLogo"),d=p("BaseInput"),u=p("BaseContainer");return a(),t("div",re,[l(u,{class:"HeaderContainer"},{default:oe((()=>[l(c,{class:"HeaderLogo"}),l(d,{class:"HeaderSearch",placeholder:"Search movies...",onInput:e.handleSearchUpdate},null,8,["onInput"])])),_:1})])}));ne.render=ie,ne.__scopeId="data-v-4805b28e";var le=n({components:{BaseCardMovie:H,BaseContainer:F,BasePagination:W,TheHeader:ne},setup(){const e=g("pending"),a=g(""),t=g(1),s=g(""),n=g("everything"),o=g([]),r=g(9),i=g(0);return f((()=>(async()=>{e.value="pending";try{const{movies:a,count:l}=await k.movies.getList({limit:r.value,offset:r.value*(t.value-1),search:s.value,searchBy:n.value});o.value=a,i.value=l,e.value="idle"}catch(l){e.value="error",a.value=l.message}})())),{status:e,statusMessage:a,movies:o,itemsPerPage:r,itemsCount:i,page:t,search:s,handlePageChange:e=>{t.value=e},handleSearchChange:e=>{s.value=e}}}});const ce=i();o("data-v-00b4795d");const de={class:"MoviesPage"},ue={key:0,class:"MoviesListContainer"},ve={key:1,class:"MoviesPaginationContainer"},pe={key:2,class:"MoviesNotFoundContainer"};r();const me=ce(((e,s,n,o,r,i)=>{const c=p("TheHeader"),m=p("BaseCardMovie"),h=p("BasePagination"),g=p("BaseContainer");return a(),t("div",de,[l(c,{onInputSearch:e.handleSearchChange},null,8,["onInputSearch"]),l(g,null,{default:ce((()=>[e.movies.length>0?(a(),t("div",ue,[(a(!0),t(u,null,v(e.movies,(s=>(a(),t(m,{key:s.id,movie:s,highlight:e.search},null,8,["movie","highlight"])))),128))])):C("",!0),e.itemsCount>e.itemsPerPage?(a(),t("div",ve,[l(h,{value:e.page,total:e.itemsCount,"per-page":e.itemsPerPage,onInput:e.handlePageChange},null,8,["value","total","per-page","onInput"])])):C("",!0),"pending"===e.status||e.movies.length?C("",!0):(a(),t("div",pe," couldn't find any movie by search \""+d(e.search)+'" :( ',1))])),_:1})])}));le.render=me,le.__scopeId="data-v-00b4795d";const he={class:"App"};var ge=n({expose:[],setup:e=>(e,s)=>(a(),t("div",he,[l(le)]))});(async()=>{await k.init(),y(ge).mount("#app")})();export{_ as c};
